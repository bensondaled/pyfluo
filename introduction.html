<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>About this library &mdash; pyfluo  documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="pyfluo  documentation" href="index.html" />
    <link rel="next" title="Core Data Structures" href="data_structures.html" />
    <link rel="prev" title="Welcome to the documentation for pyfluo." href="index.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="data_structures.html" title="Core Data Structures"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to the documentation for pyfluo."
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pyfluo  documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="about-this-library">
<h1>About this library<a class="headerlink" href="#about-this-library" title="Permalink to this headline">¶</a></h1>
<p>The <strong>pyfluo</strong> library enables easy and efficient manipulation of imaging data using a set of custom-built data structures and functions.</p>
<p>This project is <a class="reference external" href="https://github.com/bensondaled/pyfluo/">hosted on github</a>.</p>
<p>Note that <strong>pyfluo</strong> is a work in progress; neither the code nor the documentation is complete. That said, it is already functional for a wide variety of tasks.</p>
<p>Because the library is constantly under progress, the documentation for functions and classes on this site may be out of date. The most reliable way to determine the available functions and their signatures is to interactively check them after importing the package (for example in ipython).</p>
</div>
<div class="section" id="requirements">
<h1>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h1>
<p>The library has the following dependencies:</p>
<ul class="simple">
<li>numpy</li>
<li>scipy</li>
<li>scikit-learn</li>
<li>matplotlib</li>
<li>opencv</li>
<li>pims (for tiffs)</li>
</ul>
<p>Note that currently, only numpy, scipy, and matplotlib are enforced on installation of the package.</p>
</div>
<div class="section" id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<ol class="arabic simple">
<li>Download the project <a class="reference external" href="https://github.com/bensondaled/pyfluo/">here</a>.</li>
<li>Extract and navigate to the root directory.</li>
<li>Run <code class="docutils literal"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">install</span></code></li>
</ol>
</div>
<div class="section" id="a-quick-example">
<h1>A quick example<a class="headerlink" href="#a-quick-example" title="Permalink to this headline">¶</a></h1>
<p>Here is a quick-start example to get you moving with pyfluo.</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">pyfluo</span> <span class="kn">import</span> <span class="n">ROI</span><span class="p">,</span> <span class="n">Tiff</span><span class="p">,</span> <span class="n">Movie</span><span class="p">,</span> <span class="n">Trace</span><span class="p">,</span> <span class="n">correct_motion</span><span class="p">,</span> <span class="n">compute_dff</span><span class="p">,</span> <span class="n">pca_ica</span><span class="p">,</span> <span class="n">comp_to_mask</span><span class="p">,</span> <span class="n">save</span>

<span class="c"># create a movie from a tiff file</span>
<span class="n">mov</span> <span class="o">=</span> <span class="n">Movie</span><span class="p">(</span><span class="s">&#39;/Users/ben/PhD/data/mov.tif&#39;</span><span class="p">,</span> <span class="n">Ts</span><span class="o">=</span><span class="mf">0.03</span><span class="p">)</span>

<span class="c"># motion correct the movie</span>
<span class="n">mov</span> <span class="o">=</span> <span class="n">correct_motion</span><span class="p">(</span><span class="n">mov</span><span class="p">,</span> <span class="n">n_iters</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="c">#or use the convenience method mov.correct_motion</span>

<span class="c"># convert the movie to delta f over f</span>
<span class="n">mov</span> <span class="o">=</span> <span class="n">compute_dff</span><span class="p">(</span><span class="n">mov</span><span class="p">,</span> <span class="n">window_size</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">step_size</span><span class="o">=</span><span class="mf">0.100</span><span class="p">)</span>

<span class="c"># play the movie</span>
<span class="n">mov</span><span class="o">.</span><span class="n">play</span><span class="p">(</span><span class="n">fps</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">contrast</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="c"># manually select some ROIs</span>
<span class="n">roi</span> <span class="o">=</span> <span class="n">mov</span><span class="o">.</span><span class="n">select_roi</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

<span class="c"># or alternatively: use PCA/ICA to determine ROIs</span>
<span class="c">#comp = pca_ica(mov, components=12)</span>
<span class="c">#roi = ROI(mask=comp_to_mask(comp))</span>

<span class="c"># display the movie with its ROIs</span>
<span class="n">mov</span><span class="o">.</span><span class="n">project</span><span class="p">(</span><span class="n">show</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">roi</span><span class="o">=</span><span class="n">roi</span><span class="p">)</span>

<span class="c"># extract traces</span>
<span class="n">tr</span> <span class="o">=</span> <span class="n">mov</span><span class="o">.</span><span class="n">extract_by_roi</span><span class="p">(</span><span class="n">roi</span><span class="p">)</span>

<span class="c"># display traces</span>
<span class="n">tr</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>

<span class="c"># save the traces</span>
<span class="n">save</span><span class="p">(</span><span class="s">&#39;my_data&#39;</span><span class="p">,</span> <span class="n">traces</span><span class="o">=</span><span class="n">tr</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>Shown below are examples of the projected movie (left), and extracted traces (right).</p>
<a class="reference internal image-reference" href="_images/movie.png"><img alt="_images/movie.png" src="_images/movie.png" style="width: 40%;" /></a>
<a class="reference internal image-reference" href="_images/traces.png"><img alt="_images/traces.png" src="_images/traces.png" style="width: 40%;" /></a>
</div>
<div class="section" id="troubleshooting">
<h1>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this headline">¶</a></h1>
<p>A list of known fixes for common problems will be kept here.</p>
<ul class="simple">
<li>For windows installations, VisualStudio often causes problems in installing tiff-related modules. An example fix to such a problem is explained <a class="reference external" href="http://stackoverflow.com/questions/2817869/error-unable-to-find-vcvarsall-bat">here</a>.</li>
</ul>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">About this library</a></li>
<li><a class="reference internal" href="#requirements">Requirements</a></li>
<li><a class="reference internal" href="#installation">Installation</a></li>
<li><a class="reference internal" href="#a-quick-example">A quick example</a></li>
<li><a class="reference internal" href="#troubleshooting">Troubleshooting</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Welcome to the documentation for <strong>pyfluo</strong>.</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="data_structures.html"
                        title="next chapter">Core Data Structures</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/introduction.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="data_structures.html" title="Core Data Structures"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to the documentation for pyfluo."
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pyfluo  documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2015, Ben Deverett.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>